/* =========================
   색상 테마 (이미지 기반)
   라이트: 파스텔 민트 + 라일락 포인트
   다크: 딥 퍼플 + 라일락 포인트
   ========================= */
:root{
  --bg-color: #cfeff1;             /* 라이트 전체 배경 */
  --text-color: #333333;
  --container-bg-color: #ffffff;   /* 카드/리스트 배경 */
  --accent-color: #c59cff;         /* 라일락 버튼/포커스 */
  --title-color: #b58cef;          /* 타이틀 라일락 */
}

body.light-mode{
  --bg-color: #cfeff1;
  --text-color: #333333;
  --container-bg-color: #ffffff;
  --accent-color: #c59cff;
  --title-color: #b58cef;
}

body.dark-mode{
  --bg-color: #1a0f2b;             /* 딥 퍼플 */
  --text-color: #ece8f7;           /* 라이트 그레이 */
  --container-bg-color: #141022;   /* 보라빛 다크 카드 */
  --accent-color: #9f7aff;         /* 라일락 포인트 */
  --title-color: #d9b7ff;

  /* 다크 모드 우선순위 색상 */
  --priority-high-dark: #EF7B7B;
  --priority-medium-dark: #F0CD76;
  --priority-low-dark: #8FCABE;
}

/* 공통 레이아웃 */
body{
  background: var(--bg-color);
  color: var(--text-color);
  font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, 'Noto Sans KR', Arial, sans-serif;
  margin:0;
}

.container{
  max-width: 980px;
  margin: 24px auto;
  padding: 22px;
  background: var(--container-bg-color);
  border-radius: 14px;
  box-shadow: 0 12px 28px rgba(0,0,0,.12);
}

/* 헤더 */
.header-controls{
  display:flex; align-items:center; justify-content:center; gap:16px;
  margin-bottom:16px;
}
.header-controls h1{
  margin:0; font-size: 40px; letter-spacing:.5px;
  color: var(--title-color);
}
.theme-toggle{
  padding:10px 16px; border:0; border-radius:10px;
  background: var(--accent-color); color:#fff; cursor:pointer; font-weight:600;
  box-shadow: 0 4px 10px rgba(0,0,0,.12);
}
.theme-toggle:hover{ opacity:.92; }

/* 입력 영역 */
.input-area{ 
  display:flex; 
  gap:10px; 
  margin:14px 0;
}
.input-area input[type="text"]{
  padding:14px 16px; 
  border-radius:10px; 
  border:1px solid rgba(0,0,0,.08);
  background: var(--bg-color); 
  color:var(--text-color); 
  font-size: 1.1rem;
  flex: 1; /* Grow to fill space */
  box-sizing: border-box;
}
.input-area button{
  padding:12px 14px; 
  border:0; 
  border-radius:10px; 
  background:var(--accent-color); 
  color:#fff; 
  cursor:pointer;
  width: 80px; /* Slightly wider button */
  box-sizing: border-box;
}

/* task-details-area */
.task-details-area{
  display:flex; gap:8px; margin:14px 0;
  justify-content: space-between; /* Distribute items evenly with space between */
  flex-wrap: wrap; /* Allow items to wrap to the next line */
}

.task-details-area select,
.task-details-area input[type="date"] {
  height: 38px; 
  padding: 0 12px; /* Consistent padding */
  background: var(--bg-color); 
  color: var(--text-color);
  border: 1px solid rgba(0,0,0,.08); 
  border-radius: 10px;
  flex: 1; 
  box-sizing: border-box;
  -webkit-appearance: none;
  -moz-appearance: none;
  appearance: none;
  background-image: url('data:image/svg+xml;charset=US-ASCII,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%22292.4%22%20height%3D%22292.4%22%3E%3Cpath%20fill%3D%22%23000000%22%20d%3D%22M287%2069.4a17.6%2017.6%200%200%200-13-5.4H18.4c-6.5%200-12.3%203.2-16.1%208.1-3.8%204.9-4.5%2011.6-1.8%2017.6l128%20140.1c4.7%205.1%2011.9%208.1%2019.2%208.1s14.5-3%2019.2-8.1l128-140.1c2.7-6%202-12.7-1.8-17.6z%22%2F%3E%3C%2Fsvg%3E');
  background-repeat: no-repeat;
  background-position: right 12px center;
  background-size: 12px;
}

.task-details-area input[type="date"] {
    background-image: none; /* 날짜 입력 필드에는 화살표 제거 */
}

.task-details-area .time-input-group {
  flex: 1;
  display: flex;
  border: 1px solid rgba(0,0,0,.08);
  border-radius: 10px;
  background: var(--bg-color);
  overflow: hidden; /* 자식 요소의 radius를 제어하기 위함 */
  height: 38px;
  box-sizing: border-box;
}

/* 리스트 */
#taskList, #dailyTaskList{ list-style:none; margin:0; padding:0; }
#taskList li, #dailyTaskList li{
  background:var(--container-bg-color); border-left:4px solid transparent;
  border-radius:10px; padding:10px; margin-bottom:10px;
  display:flex; flex-direction:column; gap:6px;
  transition: background .15s ease, border-color .15s ease;
}
.task-row-main{ display:flex; align-items:center; gap:8px; }
.task-emoji{ font-size:1.2em; }
.task-content{ flex:1; word-break:break-word; }

.task-details-display{ display:flex; align-items:center; justify-content:space-between; gap:10px; flex-wrap:wrap; }
.task-meta{ display:flex; gap:8px; align-items:center; flex-wrap:wrap; }
.task-category, .task-priority, .task-date{
  font-size:.85rem; padding:4px 8px; border-radius:999px;
  background: rgba(255,255,255,.15); /* 다크에서도 라이트한 칩 */
}


.complete-btn, .delete-btn, .edit-btn, .update-btn {
  padding: 6px 12px;
  border: 0;
  border-radius: 10px;
  cursor: pointer;
  font-size: 1.1rem;
  font-weight: bold;
  line-height: 1;
}
.complete-btn{ background:#C8E6C9; color:#fff; }
.complete-btn:hover{ filter:brightness(.95); }
.edit-btn { background: #BBDEFB; color: #fff; }
.edit-btn:hover { filter: brightness(.95); }
.delete-btn{ background:#FFCDD2; color:#fff; }
.update-btn { background: #C8E6C9; color: #fff; }
.update-btn:hover { filter: brightness(.95); }

.edit-input {
    flex: 1;
    padding: 4px;
    border: 1px solid #ccc;
    border-radius: 4px;
}
#taskList li.completed, #dailyTaskList li.completed{ background:rgba(128,128,128,.08); text-decoration:line-through; opacity:.7; }

/* 우선순위 배경색 */
#taskList li.priority-bg-high, #dailyTaskList li.priority-bg-high { background-color:var(--priority-high-dark, #FDA3A4); color: #fff; }
#taskList li.priority-bg-medium, #dailyTaskList li.priority-bg-medium { background-color:var(--priority-medium-dark, #FFE69A); }
#taskList li.priority-bg-low, #dailyTaskList li.priority-bg-low { background-color:var(--priority-low-dark, #B1E4DD); }


/* 필터 */
.controls-bar {
    display: flex;
    align-items: center;
    margin-bottom: 1rem;
    gap: 10px;
}
#taskSearchInput {
    height: 44px;
    padding: 8px 12px;
    font-size: 1rem;
    color: var(--text-color);
    background: var(--bg-color);
    border: 1px solid rgba(0,0,0,.08);
    border-radius: 10px;
    box-sizing: border-box;
    flex-grow: 2;
}
.filter-buttons {
    display: flex;
    gap: 8px;
    flex-grow: 3;
    justify-content: center;
}

.date-view-controls {
    display: flex;
    gap: 8px;
    flex-grow: 2;
    justify-content: center;
}

.date-view-btn {
    padding: 8px 12px;
    border: 1px solid var(--accent-color);
    border-radius: 10px;
    background-color: transparent;
    color: var(--accent-color);
    cursor: pointer;
    transition: background-color 0.2s, color 0.2s;
    height: 44px;
    box-sizing: border-box;
    width: 75px; /* Fixed width */
    text-align: center;
}

.date-view-btn:hover {
    background-color: var(--accent-color);
    color: #fff;
}
.filter-btn {
    padding: 8px 12px;
    border: 1px solid var(--accent-color);
    border-radius: 10px;
    background-color: transparent;
    color: var(--accent-color);
    cursor: pointer;
    transition: background-color 0.2s, color 0.2s;
    height: 44px;
    box-sizing: border-box;
    width: 75px; /* Fixed width */
    text-align: center;
}
.filter-btn:hover {
    background-color: var(--accent-color);
    color: #fff;
}
.filter-btn.active {
    background-color: var(--accent-color);
    color: #fff;
    font-weight: bold;
}

.view-controls {
    display: flex;
    gap: 8px;
}

.view-btn {
    padding: 8px 12px;
    border: 1px solid var(--accent-color);
    border-radius: 10px;
    background-color: transparent;
    color: var(--accent-color);
    cursor: pointer;
    transition: background-color 0.2s, color 0.2s;
    height: 44px;
    box-sizing: border-box;
    width: 75px; /* Fixed width */
    text-align: center;
}

.view-btn:hover {
    background-color: var(--accent-color);
    color: #fff;
}

.view-btn.active {
    background-color: var(--accent-color);
    color: #fff;
    font-weight: bold;
}



/* 캘린더 */
.calendar-and-schedule-wrapper{ display:flex; gap:20px; margin:22px 0; flex-wrap:wrap; }
.calendar-section{ flex:2; padding:14px; background:var(--container-bg-color); border-radius:14px; }
.calendar-header{ display:flex; align-items:center; justify-content:space-between; margin-bottom:8px; }
.calendar-header h2{ margin:0; font-size:1.25rem; }
.nav-btn{ padding:6px 10px; border:0; border-radius:10px; background:var(--accent-color); color:#fff; cursor:pointer; }
.calendar-grid{ display:grid; grid-template-columns:repeat(7,1fr); gap:6px; }
.day-header{ text-align:center; opacity:.75; padding:4px 0; }

.calendar-day{
  height:74px; border:1px solid rgba(0,0,0,.08);
  border-radius:10px; padding:4px; position:relative; cursor:pointer;
  display:flex; flex-direction:column; align-items:center; justify-content:flex-start;
  transition:background .15s ease;
}
.calendar-day:hover{ background: rgba(0,0,0,.05); }
.calendar-day.sunday{ color:#ff6b6b; }
.calendar-day.saturday{ color:#4a90e2; }
.calendar-day.selected-date{ border:2px solid var(--accent-color); font-weight:700; }
.calendar-day.today {
    background-color: var(--accent-color);
    color: #fff;
    font-weight: bold;
}
.calendar-day.today:hover {
    background-color: var(--accent-color);
    opacity: 0.9;
}

.priority-stack{
  position:absolute; bottom:4px; left:50%; transform:translateX(-50%);
  display:flex; width:70%; height:4px; border-radius:10px; overflow:hidden;
}
.priority-segment{ flex:1; }
.priority-high{ background:#ffcccb; } /* Light pastel red */
.priority-medium{ background:#ffe0b3; } /* Light pastel orange */
.priority-low{ background:#d1f7c4; } /* Light pastel green */

/* 우측 데일리 패널 */
.daily-schedule-display{
  flex:1; padding:14px; background:var(--container-bg-color); border-radius:14px;
}
.daily-schedule-display h3{
  margin:0 0 10px; padding-bottom:8px;
  border-bottom:1px solid rgba(0,0,0,.08); color:var(--text-color);
  text-align: center;
}

/* Hybrid Time Input Group Styles */
.time-input-group {
    display: flex;
    align-items: center;
    gap: 0;
    padding: 0;
    border: none;
    background: transparent;
}

.time-input-group select {
    flex: 0 0 70px; /* 고정 너비 */
    height: 38px;
    padding: 8px 12px;
    background: transparent;
    color: var(--text-color);
    border: none;
    border-right: 1px solid rgba(0,0,0,0.1); /* 구분선 */
    -webkit-appearance: none;
    -moz-appearance: none;
    appearance: none;
    background-image: url('data:image/svg+xml;charset=US-ASCII,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%22292.4%22%20height%3D%22292.4%22%3E%3Cpath%20fill%3D%22%23000000%22%20d%3D%22M287%2069.4a17.6%2017.6%200%200%200-13-5.4H18.4c-6.5%200-12.3%203.2-16.1%208.1-3.8%204.9-4.5%2011.6-1.8%2017.6l128%20140.1c4.7%205.1%2011.9%208.1%2019.2%208.1s14.5-3%2019.2-8.1l128-140.1c2.7-6%202-12.7-1.8-17.6z%22%2F%3E%3C%2Fsvg%3E');
    background-repeat: no-repeat;
    background-position: right 8px center;
    background-size: 12px;
}

.time-input-group input[type="text"] {
    flex: 1; /* 남은 공간 모두 차지 */
    height: 38px;
    padding: 8px 12px;
    background: transparent;
    color: var(--text-color);
    border: none;
}

